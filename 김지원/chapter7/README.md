# chapter07. 데이터 암호화

## MySQL 서버의 데이터 암호화

TDE(Transparent Data Encryption) 방식: 데이터 베이스 서버와 디스크 사이의 데이터를 읽고 쓰기 지점에서 암호화, 복호화를 수행한다.

### 2단계 키 관리

- 암호화 키는 키링(Keyring) 플러그인에 의해 관리
- 암호화된 테이블이 생성될때 마다, 마스터 키를 바탕으로 해당 테이블을 위한 임의의 테이블 스페이스 키를 발급.
- 암호화 알고리즘으로 AES 256 알고리즘 사용

### 암호화와 복제

- 소스 서버와 레플리카 서버는 서로 다른 마스터키를 갖도록 설정해야 한다.
- 마스터 키(키링 파일)도 변경 할 수있으므로, 백업마다 키링 파일도 함께 백업할 것을 고려하자

## 응용 프로그램 암호화와 비교

- 응용 프로그램의 암호화와 MySQL 서버의 암호화 기능 중 선택해야 한다면 MySQL 서버의 암호화 기능을 선택 할것을 권장
- 응용 프로그램의 암호화와 MySQL 서버의 암호화 기능의 목적과 용도가 다르므로 적절하게 혼합하여 사용하면 더 안전한 서비스 구축 가능

## 언두 로그 및 리두 로그 암호화

- 암호화 시점을 기준로 암호화된 로그와 암호화 되지 않은 로그가 공존 할 수 있다.

## 바이너리 로그의 암호화

- 테이블 암호화가 적용과 별개로 바이너리 로그와 릴레이 로그 파일은 평문으로 저장한다.
- 의도적으로 긴 시간동안 보관 할 수 있으므로 보안에 민감하여 암호화를 해야한다.

